"use strict";let songs=songe,i,initialPoint,finalPoint,link=document.querySelectorAll(".link"),header=document.querySelector("header"),navigationButton=document.querySelector(".navigation-button"),navigation=document.querySelector(".navigation"),main=document.querySelector("main"),hi=document.querySelector(".hi"),title=document.querySelector(".header-title"),footer=document.querySelector("footer"),navigationButtonTwo=document.querySelector(".navigation-button-two"),slider=document.querySelector("#myRange"),output=document.querySelector("#value"),volumeButon=document.querySelector(".volume-buttton"),volume=document.querySelector(".volume");for(let i=0;i<link.length;i++)document.addEventListener("click",e=>{e.preventDefault()});async function loadPage(url){try{const hedMain=document.querySelector("main"),response=await fetch(url);await appendPlaylist();const data=await response.text(),parser=await new DOMParser,parseText=await parser.parseFromString(data,"text/html"),main=await parseText.querySelector("main");hedMain.innerHTML=await main.innerHTML}catch(err){console.log("Ooops, something went wrong")}}function changeURL(url,title){history.pushState({},"Carriage",url),document.getElementsByTagName("title")[0].innerHTML=title}function createPlaylist(a,c){setTimeout(()=>{for(i=a;i<c;i++)$(".wrp").append('<div class="song" id="'+songs[i][0]+'"><div class="songH"></div><button class="play-pause_song"></button><div class="nameSong">'+songs[i][1]+'</div><div class="time">'+parseInt(songs[i][3]/60)+":"+parseInt(songs[i][3]%60)+"</div></div>")},200)}function appendPlaylist(){"/index.html"===location.pathname?createPlaylist(0,songs.length):"/updates.html"===location.pathname?createPlaylist(0,songs.length):"/about_author.html"===location.pathname?createPlaylist(0,songs.length):"/radio.html"===location.pathname?createPlaylist(0,songs.length):"/questions_questions_questions_questions.html"===location.pathname?createPlaylist(25,37):"/level_up_part_one.html"===location.pathname?createPlaylist(17,25):"/allworld.html"===location.pathname?createPlaylist(12,17):"/early-morning-and-euphoria.html"===location.pathname&&createPlaylist(38,46)}function addElement(){"/index.html"===location.pathname?loadPage("index.html"):"/updates.html"===location.pathname?loadPage("updates.html"):"/about_author.html"===location.pathname?loadPage("about_author.html"):"/radio.html"===location.pathname?loadPage("radio.html"):"/questions_questions_questions_questions.html"===location.pathname?loadPage("questions_questions_questions_questions.html"):"/level_up_part_one.html"===location.pathname?loadPage("level_up_part_one.html"):"/allworld.html"===location.pathname?loadPage("allworld.html"):"/early-morning-and-euphoria.html"===location.pathname&&loadPage("early-morning-and-euphoria.html")}function hideNavigation(){setTimeout(()=>{navigation.style.left="-400px",main.style="opacity: 1",hi.style="opacity: 1",title.style="opacity: 1",footer.style="opacity: 1",setTimeout(()=>{navigationButtonTwo.style.display="flex"},300)},100)}function showNavigation(){setTimeout(()=>{navigation.style.left="0",navigationButtonTwo.style.display="none",main.style="opacity: 0.4",hi.style="opacity: 0.4",title.style="opacity: 0.4",footer.style="opacity: 0.4"},100)}document.querySelector("body").addEventListener("click",event=>{switch(event.target.id){case"logo-img":case"logo-two-img":case"albums":loadPage("index.html"),changeURL("index.html","Carriage");break;case"updatesHead":loadPage("updates.html"),changeURL("updates.html","Updates");break;case"aboutMe":loadPage("about_author.html"),changeURL("about_author.html","About me");break;case"radio":loadPage("radio.html"),changeURL("radio.html","Radio");break;case"QQQQ":loadPage("questions_questions_questions_questions.html"),changeURL("questions_questions_questions_questions.html","QQQQ");break;case"LVLUP":loadPage("level_up_part_one.html"),changeURL("level_up_part_one.html","LVLUP(pt1)");break;case"ALLWORLD":loadPage("allworld.html"),changeURL("allworld.html","ВЕСЬ МИР-ТЕАТР");break;case"EARLY":loadPage("early-morning-and-euphoria.html"),changeURL("early-morning-and-euphoria.html","EARLY MORNING AND EUPHORIA");break;case"vk":window.location.href="https://vk.com/carriageuknow";break;case"sound":window.location.href="https://soundcloud.com/carriageuknow";break;case"band":window.location.href="https://carriageuknow.bandcamp.com/";break;case"sber":window.location.href="https://www.sberbank.kz/ru/individuals";break;case"qiwi":window.location.href="https://qiwi.com/p/79506252527"}}),addElement(),window.addEventListener("popstate",()=>{addElement()}),output.innerHTML=slider.value,slider.addEventListener("input",()=>{output.innerHTML=this.value}),slider.addEventListener("input",()=>{let x=slider.value,color="linear-gradient(90deg, rgb(255,233,153)"+x+"%, rgb(214,214,214)"+x+"%)";slider.style.background=color,document.querySelector(".volume-buttton").style.background=0==x?"url(../img/icons/player/mute.png) no-repeat center top/cover":"url(../img/icons/player/volume.png) no-repeat center top/cover"}),navigationButtonTwo.addEventListener("click",()=>{showNavigation()}),navigationButton.addEventListener("click",()=>{hideNavigation()}),header.addEventListener("touchstart",event=>{initialPoint=event.changedTouches[0]}),header.addEventListener("touchend",event=>{finalPoint=event.changedTouches[0];let xAbs=Math.abs(initialPoint.pageX-finalPoint.pageX),yAbs=Math.abs(initialPoint.pageY-finalPoint.pageY);(xAbs>100||yAbs>100)&&xAbs>yAbs&&(finalPoint.pageX<initialPoint.pageX?hideNavigation():showNavigation())}),document.addEventListener("click",event=>event.target===volumeButon?"flex"==volume.style.display?volume.style.display="none":volume.style.display="flex":volume.style.display="none");